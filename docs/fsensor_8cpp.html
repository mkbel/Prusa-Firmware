<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa3d Marlin fork: fsensor.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Prusa3d Marlin fork
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fsensor.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb5dae5e8c4c1437c26ec23c4ed4e785"><td class="memItemLeft" align="right" valign="top"><a id="aeb5dae5e8c4c1437c26ec23c4ed4e785"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_stop_and_save_print</b> (void)</td></tr>
<tr class="separator:aeb5dae5e8c4c1437c26ec23c4ed4e785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036ba452fa74524823f44be93e0d40f0"><td class="memItemLeft" align="right" valign="top"><a id="a036ba452fa74524823f44be93e0d40f0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a036ba452fa74524823f44be93e0d40f0">fsensor_restore_print_and_continue</a> (void)</td></tr>
<tr class="memdesc:a036ba452fa74524823f44be93e0d40f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">restore print - restore position and heatup to original temperature <br /></td></tr>
<tr class="separator:a036ba452fa74524823f44be93e0d40f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8b7e2532899c6d3531264a6956c099"><td class="memItemLeft" align="right" valign="top"><a id="adf8b7e2532899c6d3531264a6956c099"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#adf8b7e2532899c6d3531264a6956c099">fsensor_init</a> (void)</td></tr>
<tr class="memdesc:adf8b7e2532899c6d3531264a6956c099"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize <br /></td></tr>
<tr class="separator:adf8b7e2532899c6d3531264a6956c099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89c121df26ac2f27b5627c0c713eff7"><td class="memItemLeft" align="right" valign="top"><a id="ae89c121df26ac2f27b5627c0c713eff7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_enable</b> (void)</td></tr>
<tr class="separator:ae89c121df26ac2f27b5627c0c713eff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd2d84cc993811fe506baf68e34f38c"><td class="memItemLeft" align="right" valign="top"><a id="abbd2d84cc993811fe506baf68e34f38c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_disable</b> (void)</td></tr>
<tr class="separator:abbd2d84cc993811fe506baf68e34f38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563bc62558fdae9264ee33b6f47aac90"><td class="memItemLeft" align="right" valign="top"><a id="a563bc62558fdae9264ee33b6f47aac90"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_set</b> (bool State)</td></tr>
<tr class="separator:a563bc62558fdae9264ee33b6f47aac90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6ecd04aa43e5b29f55daa7b067b0a1"><td class="memItemLeft" align="right" valign="top"><a id="aca6ecd04aa43e5b29f55daa7b067b0a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pciSetup</b> (byte pin)</td></tr>
<tr class="separator:aca6ecd04aa43e5b29f55daa7b067b0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa923d6a8a69512401a84e4e49709d4"><td class="memItemLeft" align="right" valign="top"><a id="adaa923d6a8a69512401a84e4e49709d4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_check_start</b> (void)</td></tr>
<tr class="separator:adaa923d6a8a69512401a84e4e49709d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c1946520ff8c766f4a872237d97c0f"><td class="memItemLeft" align="right" valign="top"><a id="aa1c1946520ff8c766f4a872237d97c0f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_check_stop</b> (void)</td></tr>
<tr class="separator:aa1c1946520ff8c766f4a872237d97c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e9db7f972c840567e3213f4c487ff9"><td class="memItemLeft" align="right" valign="top"><a id="a50e9db7f972c840567e3213f4c487ff9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_check_autoload</b> (void)</td></tr>
<tr class="separator:a50e9db7f972c840567e3213f4c487ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadeabbce2d73332f7240e5937f3892bc"><td class="memItemLeft" align="right" valign="top"><a id="aadeabbce2d73332f7240e5937f3892bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_oq_meassure_set</b> (bool State)</td></tr>
<tr class="separator:aadeabbce2d73332f7240e5937f3892bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a228e84689804453356260add456e877a"><td class="memItemLeft" align="right" valign="top"><a id="a228e84689804453356260add456e877a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_oq_meassure_start</b> (uint8_t skip)</td></tr>
<tr class="separator:a228e84689804453356260add456e877a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f5ba5eb4d01b71d6b6ef63b82f92c3"><td class="memItemLeft" align="right" valign="top"><a id="a98f5ba5eb4d01b71d6b6ef63b82f92c3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_oq_meassure_stop</b> (void)</td></tr>
<tr class="separator:a98f5ba5eb4d01b71d6b6ef63b82f92c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1112e861ef42b1e6eae7b3faba5f189"><td class="memItemLeft" align="right" valign="top"><a id="ae1112e861ef42b1e6eae7b3faba5f189"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_oq_result</b> (void)</td></tr>
<tr class="separator:ae1112e861ef42b1e6eae7b3faba5f189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa756b33a7247fba52c18307ee4ef2ae7"><td class="memItemLeft" align="right" valign="top"><a id="aa756b33a7247fba52c18307ee4ef2ae7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ISR</b> (FSENSOR_INT_PIN_VECT)</td></tr>
<tr class="separator:aa756b33a7247fba52c18307ee4ef2ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa850c4c539d7017f33095d4b6729002"><td class="memItemLeft" align="right" valign="top"><a id="afa850c4c539d7017f33095d4b6729002"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#afa850c4c539d7017f33095d4b6729002">fsensor_setup_interrupt</a> (void)</td></tr>
<tr class="memdesc:afa850c4c539d7017f33095d4b6729002"><td class="mdescLeft">&#160;</td><td class="mdescRight">setup pin-change interrupt <br /></td></tr>
<tr class="separator:afa850c4c539d7017f33095d4b6729002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22b16383d9c4973bfa27e0396195e60"><td class="memItemLeft" align="right" valign="top"><a id="ac22b16383d9c4973bfa27e0396195e60"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_st_block_begin</b> (<a class="el" href="structblock__t.html">block_t</a> *bl)</td></tr>
<tr class="separator:ac22b16383d9c4973bfa27e0396195e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3822f3d40b77a5a9b5def72d8610db44"><td class="memItemLeft" align="right" valign="top"><a id="a3822f3d40b77a5a9b5def72d8610db44"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_st_block_chunk</b> (<a class="el" href="structblock__t.html">block_t</a> *bl, int cnt)</td></tr>
<tr class="separator:a3822f3d40b77a5a9b5def72d8610db44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e2100781cc3c87f0ff39e1d9b15202"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a91e2100781cc3c87f0ff39e1d9b15202">fsensor_enque_M600</a> ()</td></tr>
<tr class="separator:a91e2100781cc3c87f0ff39e1d9b15202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5788c8a7d85cfca51b4aceaae478f8b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a5788c8a7d85cfca51b4aceaae478f8b8">fsensor_update</a> (void)</td></tr>
<tr class="memdesc:a5788c8a7d85cfca51b4aceaae478f8b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">filament sensor update (perform M600 on filament runout)  <a href="#a5788c8a7d85cfca51b4aceaae478f8b8">More...</a><br /></td></tr>
<tr class="separator:a5788c8a7d85cfca51b4aceaae478f8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a231a4a36748b8dca96e91f81e127f22f"><td class="memItemLeft" align="right" valign="top"><a id="a231a4a36748b8dca96e91f81e127f22f"></a>
const char ERRMSG_PAT9125_NOT_RESP []&#160;</td><td class="memItemRight" valign="bottom"><b>PROGMEM</b> = &quot;PAT9125 not responding (%d)!\n&quot;</td></tr>
<tr class="separator:a231a4a36748b8dca96e91f81e127f22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9119e9b5b1985a3fa18d840ca36bb75"><td class="memItemLeft" align="right" valign="top"><a id="ad9119e9b5b1985a3fa18d840ca36bb75"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_int_pin_old</b> = 0</td></tr>
<tr class="separator:ad9119e9b5b1985a3fa18d840ca36bb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce98d0918c5f96c2d9663842d8daa19"><td class="memItemLeft" align="right" valign="top"><a id="a0ce98d0918c5f96c2d9663842d8daa19"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a0ce98d0918c5f96c2d9663842d8daa19">fsensor_chunk_len</a> = 0</td></tr>
<tr class="memdesc:a0ce98d0918c5f96c2d9663842d8daa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum meassured chunk length in steps <br /></td></tr>
<tr class="separator:a0ce98d0918c5f96c2d9663842d8daa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c8d5af66fa0dc3552b576fa45462c5"><td class="memItemLeft" align="right" valign="top"><a id="ad3c8d5af66fa0dc3552b576fa45462c5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ad3c8d5af66fa0dc3552b576fa45462c5">fsensor_enabled</a> = true</td></tr>
<tr class="memdesc:ad3c8d5af66fa0dc3552b576fa45462c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">enabled = initialized and sampled every chunk event <br /></td></tr>
<tr class="separator:ad3c8d5af66fa0dc3552b576fa45462c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217a4e11c4f0f05169ed2ee390b6ddfe"><td class="memItemLeft" align="right" valign="top"><a id="a217a4e11c4f0f05169ed2ee390b6ddfe"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a217a4e11c4f0f05169ed2ee390b6ddfe">fsensor_watch_runout</a> = true</td></tr>
<tr class="memdesc:a217a4e11c4f0f05169ed2ee390b6ddfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">runout watching is done in fsensor_update (called from main loop) <br /></td></tr>
<tr class="separator:a217a4e11c4f0f05169ed2ee390b6ddfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e438df93330fcd7d90ae8b0822a25dd"><td class="memItemLeft" align="right" valign="top"><a id="a4e438df93330fcd7d90ae8b0822a25dd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a4e438df93330fcd7d90ae8b0822a25dd">fsensor_not_responding</a> = false</td></tr>
<tr class="memdesc:a4e438df93330fcd7d90ae8b0822a25dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">not responding - is set if any communication error occurred during initialization or readout <br /></td></tr>
<tr class="separator:a4e438df93330fcd7d90ae8b0822a25dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f90a9ec6e7c5e50fe6b82c30d7317a"><td class="memItemLeft" align="right" valign="top"><a id="aa7f90a9ec6e7c5e50fe6b82c30d7317a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#aa7f90a9ec6e7c5e50fe6b82c30d7317a">fsensor_printing_saved</a> = false</td></tr>
<tr class="memdesc:aa7f90a9ec6e7c5e50fe6b82c30d7317a"><td class="mdescLeft">&#160;</td><td class="mdescRight">printing saved <br /></td></tr>
<tr class="separator:aa7f90a9ec6e7c5e50fe6b82c30d7317a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d99936762b0dd16e5b20dfa8f5715e"><td class="memItemLeft" align="right" valign="top"><a id="ae9d99936762b0dd16e5b20dfa8f5715e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ae9d99936762b0dd16e5b20dfa8f5715e">fsensor_oq_meassure_enabled</a> = false</td></tr>
<tr class="memdesc:ae9d99936762b0dd16e5b20dfa8f5715e"><td class="mdescLeft">&#160;</td><td class="mdescRight">enable/disable quality meassurement <br /></td></tr>
<tr class="separator:ae9d99936762b0dd16e5b20dfa8f5715e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1599614acaf2551b57cc24b77924bb4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ab1599614acaf2551b57cc24b77924bb4">fsensor_m600_enqueued</a> = false</td></tr>
<tr class="separator:ab1599614acaf2551b57cc24b77924bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fc5a4685a361590f61a4b484209080"><td class="memItemLeft" align="right" valign="top"><a id="a01fc5a4685a361590f61a4b484209080"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a01fc5a4685a361590f61a4b484209080">fsensor_err_cnt</a> = 0</td></tr>
<tr class="memdesc:a01fc5a4685a361590f61a4b484209080"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of errors, updated in ISR <br /></td></tr>
<tr class="separator:a01fc5a4685a361590f61a4b484209080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae74b65b9143c4641b33490ba65839ee8"><td class="memItemLeft" align="right" valign="top"><a id="ae74b65b9143c4641b33490ba65839ee8"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ae74b65b9143c4641b33490ba65839ee8">fsensor_st_cnt</a> = 0</td></tr>
<tr class="memdesc:ae74b65b9143c4641b33490ba65839ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable for accumulating step count (updated callbacks from stepper and ISR) <br /></td></tr>
<tr class="separator:ae74b65b9143c4641b33490ba65839ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a5e0d8c37dcc32a962be4834176319"><td class="memItemLeft" align="right" valign="top"><a id="a03a5e0d8c37dcc32a962be4834176319"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a03a5e0d8c37dcc32a962be4834176319">fsensor_dy_old</a> = 0</td></tr>
<tr class="memdesc:a03a5e0d8c37dcc32a962be4834176319"><td class="mdescLeft">&#160;</td><td class="mdescRight">last dy value from pat9125 sensor (used in ISR) <br /></td></tr>
<tr class="separator:a03a5e0d8c37dcc32a962be4834176319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c692c83b0069c7bfd6b5536eea938a6"><td class="memItemLeft" align="right" valign="top"><a id="a4c692c83b0069c7bfd6b5536eea938a6"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a4c692c83b0069c7bfd6b5536eea938a6">fsensor_log</a> = 1</td></tr>
<tr class="memdesc:a4c692c83b0069c7bfd6b5536eea938a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">log flag: 0=log disabled, 1=log enabled <br /></td></tr>
<tr class="separator:a4c692c83b0069c7bfd6b5536eea938a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">filament autoload variables</div></td></tr>
<tr class="memitem:ae8841984acc50fe2c5841bdc4700e43b"><td class="memItemLeft" align="right" valign="top"><a id="ae8841984acc50fe2c5841bdc4700e43b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ae8841984acc50fe2c5841bdc4700e43b">fsensor_autoload_enabled</a> = true</td></tr>
<tr class="memdesc:ae8841984acc50fe2c5841bdc4700e43b"><td class="mdescLeft">&#160;</td><td class="mdescRight">autoload feature enabled <br /></td></tr>
<tr class="separator:ae8841984acc50fe2c5841bdc4700e43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119bab14bc59f8bdf624dee8c96f17c6"><td class="memItemLeft" align="right" valign="top"><a id="a119bab14bc59f8bdf624dee8c96f17c6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a119bab14bc59f8bdf624dee8c96f17c6">fsensor_watch_autoload</a> = false</td></tr>
<tr class="memdesc:a119bab14bc59f8bdf624dee8c96f17c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">autoload watching enable/disable flag <br /></td></tr>
<tr class="separator:a119bab14bc59f8bdf624dee8c96f17c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5272bdcabbbf677b01de8d0e4ec812"><td class="memItemLeft" align="right" valign="top"><a id="afc5272bdcabbbf677b01de8d0e4ec812"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_y</b></td></tr>
<tr class="separator:afc5272bdcabbbf677b01de8d0e4ec812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64a49a4098d0dac7b4c1e4a61deedbf"><td class="memItemLeft" align="right" valign="top"><a id="af64a49a4098d0dac7b4c1e4a61deedbf"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_c</b></td></tr>
<tr class="separator:af64a49a4098d0dac7b4c1e4a61deedbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca45cdf5832be17724b82e8328b0ac0"><td class="memItemLeft" align="right" valign="top"><a id="abca45cdf5832be17724b82e8328b0ac0"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_last_millis</b></td></tr>
<tr class="separator:abca45cdf5832be17724b82e8328b0ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4adb25a4b07093c9de25d316a827d3"><td class="memItemLeft" align="right" valign="top"><a id="a5b4adb25a4b07093c9de25d316a827d3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>fsensor_autoload_sum</b></td></tr>
<tr class="separator:a5b4adb25a4b07093c9de25d316a827d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">filament optical quality measurement variables</div></td></tr>
<tr class="memitem:ad617269c933f5ecb86678622bc9d6606"><td class="memItemLeft" align="right" valign="top"><a id="ad617269c933f5ecb86678622bc9d6606"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ad617269c933f5ecb86678622bc9d6606">fsensor_oq_meassure</a> = false</td></tr>
<tr class="memdesc:ad617269c933f5ecb86678622bc9d6606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measurement enable/disable flag. <br /></td></tr>
<tr class="separator:ad617269c933f5ecb86678622bc9d6606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c6aa4f81f50089c88e6ae6bb24a2be"><td class="memItemLeft" align="right" valign="top"><a id="ae1c6aa4f81f50089c88e6ae6bb24a2be"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ae1c6aa4f81f50089c88e6ae6bb24a2be">fsensor_oq_skipchunk</a></td></tr>
<tr class="memdesc:ae1c6aa4f81f50089c88e6ae6bb24a2be"><td class="mdescLeft">&#160;</td><td class="mdescRight">skip-chunk counter, for accurate measurement is necessary to skip first chunk... <br /></td></tr>
<tr class="separator:ae1c6aa4f81f50089c88e6ae6bb24a2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9c37ce91f636a265d8c2fd4df04ee3"><td class="memItemLeft" align="right" valign="top"><a id="a6f9c37ce91f636a265d8c2fd4df04ee3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a6f9c37ce91f636a265d8c2fd4df04ee3">fsensor_oq_samples</a></td></tr>
<tr class="memdesc:a6f9c37ce91f636a265d8c2fd4df04ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of samples from start of measurement <br /></td></tr>
<tr class="separator:a6f9c37ce91f636a265d8c2fd4df04ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678d691352a29cb5f10d7a16fc33b52d"><td class="memItemLeft" align="right" valign="top"><a id="a678d691352a29cb5f10d7a16fc33b52d"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a678d691352a29cb5f10d7a16fc33b52d">fsensor_oq_st_sum</a></td></tr>
<tr class="memdesc:a678d691352a29cb5f10d7a16fc33b52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">sum of steps in positive direction movements <br /></td></tr>
<tr class="separator:a678d691352a29cb5f10d7a16fc33b52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5cb8ab171e461f72b3322685e337f93"><td class="memItemLeft" align="right" valign="top"><a id="ac5cb8ab171e461f72b3322685e337f93"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ac5cb8ab171e461f72b3322685e337f93">fsensor_oq_yd_sum</a></td></tr>
<tr class="memdesc:ac5cb8ab171e461f72b3322685e337f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">sum of deltas in positive direction movements <br /></td></tr>
<tr class="separator:ac5cb8ab171e461f72b3322685e337f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f41c840b635f417e524d6eda4c4e0f"><td class="memItemLeft" align="right" valign="top"><a id="ac8f41c840b635f417e524d6eda4c4e0f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ac8f41c840b635f417e524d6eda4c4e0f">fsensor_oq_er_sum</a></td></tr>
<tr class="memdesc:ac8f41c840b635f417e524d6eda4c4e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">sum of errors during measurement <br /></td></tr>
<tr class="separator:ac8f41c840b635f417e524d6eda4c4e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9201f17719d6e63962e32c6cc71fcd3e"><td class="memItemLeft" align="right" valign="top"><a id="a9201f17719d6e63962e32c6cc71fcd3e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a9201f17719d6e63962e32c6cc71fcd3e">fsensor_oq_er_max</a></td></tr>
<tr class="memdesc:a9201f17719d6e63962e32c6cc71fcd3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">max error counter value during measurement <br /></td></tr>
<tr class="separator:a9201f17719d6e63962e32c6cc71fcd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c840c4917856ed00e02cb75fab2541"><td class="memItemLeft" align="right" valign="top"><a id="ac2c840c4917856ed00e02cb75fab2541"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#ac2c840c4917856ed00e02cb75fab2541">fsensor_oq_yd_min</a></td></tr>
<tr class="memdesc:ac2c840c4917856ed00e02cb75fab2541"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum delta value <br /></td></tr>
<tr class="separator:ac2c840c4917856ed00e02cb75fab2541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2232c24de8928dc3f52f15e5a0bde5f"><td class="memItemLeft" align="right" valign="top"><a id="af2232c24de8928dc3f52f15e5a0bde5f"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#af2232c24de8928dc3f52f15e5a0bde5f">fsensor_oq_yd_max</a></td></tr>
<tr class="memdesc:af2232c24de8928dc3f52f15e5a0bde5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum delta value <br /></td></tr>
<tr class="separator:af2232c24de8928dc3f52f15e5a0bde5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f31cb444dde8bf0e7ec7982749b7bb8"><td class="memItemLeft" align="right" valign="top"><a id="a3f31cb444dde8bf0e7ec7982749b7bb8"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsensor_8cpp.html#a3f31cb444dde8bf0e7ec7982749b7bb8">fsensor_oq_sh_sum</a></td></tr>
<tr class="memdesc:a3f31cb444dde8bf0e7ec7982749b7bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">sum of shutter value <br /></td></tr>
<tr class="separator:a3f31cb444dde8bf0e7ec7982749b7bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a91e2100781cc3c87f0ff39e1d9b15202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e2100781cc3c87f0ff39e1d9b15202">&#9670;&nbsp;</a></span>fsensor_enque_M600()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsensor_enque_M600 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Common code for enqueing M600 and supplemental codes into the command queue. Used both for the IR sensor and the PAT9125 </p>

</div>
</div>
<a id="a5788c8a7d85cfca51b4aceaae478f8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5788c8a7d85cfca51b4aceaae478f8b8">&#9670;&nbsp;</a></span>fsensor_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsensor_update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Works only if filament sensor is enabled. When the filament sensor error count is larger then FSENSOR_ERR_MAX, pauses print, tries to move filament back and forth. If there is still no plausible signal from filament sensor plans M600 (Filament change). </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab1599614acaf2551b57cc24b77924bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1599614acaf2551b57cc24b77924bb4">&#9670;&nbsp;</a></span>fsensor_m600_enqueued</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool fsensor_m600_enqueued = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>as explained in the CHECK_FSENSOR macro: this flag is set to true when fsensor posts the M600 into the command queue, which elliminates the hazard of having posted multiple M600's before the first one gets read and started processing. Btw., the IR fsensor could do up to 6 posts before the command queue managed to start processing the first M600 ;) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
