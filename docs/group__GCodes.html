<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa3d Marlin fork: G-Code List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Prusa3d Marlin fork
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">G-Code List</div>  </div>
</div><!--header-->
<div class="contents">
<p><em>This is a list of currently implemented G Codes in Prusa firmware (dynamically generated from doxygen)</em></p>
<h3>CRASH_DETECTED - TMC2130</h3>
<h3>CRASH_RECOVER - TMC2130</h3>
<h3>CRASH_CANCEL - TMC2130</h3>
<h3>TMC_SET_WAVE_</h3>
<h3>TMC_SET_STEP_</h3>
<h3>TMC_SET_CHOP_</h3>
<h3>PRUSA - Internal command set</h3>
<p>Set of internal PRUSA commands </p><pre class="fragment">  PRUSA [ Ping | PRN | FAN | fn | thx | uvlo | fsensor_recover | MMURES | RESET | fv | M28 | SN | Fir | Rev | Lang | Lz | Beat | FR ]
</pre><ul>
<li><code>Ping</code></li>
<li><code>PRN</code> - Prints revision of the printer</li>
<li><code>FAN</code> - Prints fan details</li>
<li><code>fn</code> - Prints farm no.</li>
<li><code>thx</code></li>
<li><code>uvlo</code></li>
<li><code>fsensor_recover</code> - Filament sensor recover - restore print and continue</li>
<li><code>MMURES</code> - Reset MMU</li>
<li><code>RESET</code> - (Careful!)</li>
<li><code>fv</code> - ?</li>
<li><code>M28</code></li>
<li><code>SN</code></li>
<li><code>Fir</code> - Prints firmware version</li>
<li><code>Rev</code>- Prints filament size, elelectronics, nozzle type</li>
<li><code>Lang</code> - Reset the language</li>
<li><code>Lz</code></li>
<li><code>Beat</code> - Kick farm link timer</li>
<li><code>FR</code> - Full factory reset</li>
<li><code>nozzle set &lt;diameter&gt;</code> - set nozzle diameter (farm mode only), e.g. <code>PRUSA nozzle set 0.4</code></li>
<li><code>nozzle D&lt;diameter&gt;</code> - check the nozzle diameter (farm mode only), works like M862.1 P, e.g. <code>PRUSA nozzle D0.4</code></li>
<li><code>nozzle</code> - prints nozzle diameter (farm mode only), works like M862.1 P, e.g. <code>PRUSA nozzle</code></li>
</ul>
<p>PRUSA FAN</p>
<h3>G0, G1 - Coordinated movement X Y Z E</h3>
<h3>G2 - CW ARC</h3>
<h3>G3 - CCW ARC</h3>
<h3>G4 - Dwell</h3>
<h3>G10 Retract</h3>
<h3>G11 - Retract recover</h3>
<h3>G28 - Home all Axis one at a time</h3>
<h3>G29 - Detailed Z-Probe</h3>
<h3>G30 - Single Z Probe</h3>
<h3>G31 - Dock the sled</h3>
<h3>G32 - Undock the sled</h3>
<h3>G30 - Single Z Probe</h3>
<h3>G75 - Print temperature interpolation</h3>
<h3>G76 - PINDA probe temperature calibration</h3>
<h3>G80 - Mesh-based Z probe</h3>
<h3>G81 - Mesh bed leveling status</h3>
<h3>G86 - Disable babystep correction after home</h3>
<p>This G-code will be performed at the start of a calibration script. (Prusa3D specific)</p>
<h3>G87 - Enable babystep correction after home</h3>
<p>This G-code will be performed at the end of a calibration script. (Prusa3D specific)</p>
<h3>G88 - Reserved</h3>
<p>Currently has no effect.</p>
<h3>G90 - Switch off relative mode</h3>
<h3>G91 - Switch on relative mode</h3>
<h3>G92 - Set position</h3>
<h3>G98 - Activate farm mode</h3>
<h3>G99 - Deactivate farm mode</h3>
<hr/>
<h3>M0, M1 - Stop the printer</h3>
<h3>M17 - Enable axes</h3>
<h3>M20 - SD Card file list</h3>
<h3>M21 - Init SD card</h3>
<h3>M22 - Release SD card</h3>
<h3>M23 - Select file</h3>
<h3>M24 - Start SD print</h3>
<h3>M25 - Pause SD print</h3>
<h3>M26 S&lt;index&gt; - Set SD index</h3>
<p>Set position in SD card file to index in bytes. This command is expected to be called after M23 and before M24. Otherwise effect of this command is undefined.</p>
<h3>M27 - Get SD status</h3>
<h3>M28 - Start SD write</h3>
<h3>M29 - Stop SD write</h3>
<p>Currently has no effect.</p>
<h3>M30 - Delete file </h3>
<h3>M32 - Select file and start SD print</h3>
<h3>M982 - Start SD write</h3>
<h3>M31 - Report current print time</h3>
<h3>M42 - Set pin state</h3>
<h3>M44 - Reset the bed skew and offset calibration (Prusa specific)</h3>
<h3>M45 - Bed skew and offset with manual Z up (Prusa specific)</h3>
<h3>M47 - Show end stops dialog on the display (Prusa specific)</h3>
<h3>M48 - Z-Probe repeatability measurement function.</h3>
<p><em>Usage:</em> </p><pre class="fragment">M48 &lt;n #_samples&gt; &lt;X X_position_for_samples&gt; &lt;Y Y_position_for_samples&gt; &lt;V Verbose_Level&gt; &lt;L legs_of_movement_prior_to_doing_probe&gt;
</pre><p>This function assumes the bed has been homed. Specifically, that a G28 command as been issued prior to invoking the M48 Z-Probe repeatability measurement function. Any information generated by a prior G29 Bed leveling command will be lost and need to be regenerated.</p>
<p>The number of samples will default to 10 if not specified. You can use upper or lower case letters for any of the options EXCEPT n. n must be in lower case because Marlin uses a capital N for its communication protocol and will get horribly confused if you send it a capital N.</p>
<h3>M73 - Set/get print progress</h3>
<p><em>Usage:</em> </p><pre class="fragment">M73 P&lt;percent&gt; R&lt;time_remaining&gt; Q&lt;percent_silent&gt; S&lt;time_remaining_silent&gt;
</pre><h3>M104 - Set hotend temperature</h3>
<h3>M112 - Emergency stop</h3>
<h3>M140 - Set bed temperature</h3>
<h3>M105 - Report temperatures</h3>
<h3>M109 - Wait for extruder temperature</h3>
<h3>M190 - Wait for bed temperature</h3>
<h3>M106 - Set fan speed</h3>
<h3>M107 - Fan off</h3>
<h3>M80 - Turn on the Power Supply</h3>
<h3>M81 - Turn off Power Supply</h3>
<h3>M82 - Set E axis to absolute mode</h3>
<h3>M83 - Set E axis to relative mode</h3>
<h3>M84, M18 - Disable steppers</h3>
<p>This command can be used to set the stepper inactivity timeout (<code>S</code>) or to disable steppers (<code>X</code>,<code>Y</code>,<code>Z</code>,<code>E</code>) </p><pre class="fragment">M84 [E&lt;flag&gt;] [S&lt;seconds&gt;] [X&lt;flag&gt;] [Y&lt;flag&gt;] [Z&lt;flag&gt;]  
</pre><h3>M85 - Set max inactive time</h3>
<h3>M86 - Set safety timer expiration time</h3>
<p><em>Usage:</em> M86 S&lt;seconds&gt;</p>
<p>Sets the safety timer expiration time in seconds. M86 S0 will disable safety timer. When safety timer expires, heatbed and nozzle target temperatures are set to zero.</p>
<h3>M92 Set Axis steps-per-unit</h3>
<p>Same syntax as G92</p>
<h3>M110 - Set Line number</h3>
<h3>M113 - Get or set host keep-alive interval</h3>
<h3>M115 - Firmware info</h3>
<p>Print the firmware info and capabilities </p><pre class="fragment">M115 [V] [U&lt;version&gt;] 
</pre><p>Without any arguments, prints Prusa firmware version number, machine type, extruder count and UUID. <code>M115 U</code> Checks the firmware version provided. If the firmware version provided by the U code is higher than the currently running firmware, pause the print for 30s and ask the user to upgrade the firmware.</p>
<h3>M114 - Get current position</h3>
<h3>M117 - Set LCD Message</h3>
<h3>M120 - Disable endstops</h3>
<h3>M121 - Enable endstops</h3>
<h3>M119 - Get endstop states</h3>
<h3>M150 - Set RGB(W) Color</h3>
<h3>M200 - Set filament diameter</h3>
<h3>M201 - Set Print Max Acceleration</h3>
<h3>M203 - Set Max Feedrate</h3>
<h3>M204 - Acceleration settings</h3>
<p>Supporting old format: </p><pre class="fragment">    M204 S[normal moves] T[filmanent only moves]
</pre><p>and new format: </p><pre class="fragment">    M204 P[printing moves] R[filmanent only moves] T[travel moves] (as of now T is ignored)  </pre><h3>M205 - Set advanced settings</h3>
<p>Set some advanced settings related to movement. </p><pre class="fragment">     M205 [S] [T] [B] [X] [Y] [Z] [E]  </pre><ul>
<li><code>S</code> - Minimum feedrate for print moves (unit/s)</li>
<li><code>T</code> - Minimum feedrate for travel moves (units/s)</li>
<li><code>B</code> - Minimum segment time (us)</li>
<li><code>X</code> - Maximum X jerk (units/s), similarly for other axes</li>
</ul>
<h3>M206 - Set additional homing offsets</h3>
<h3>M207 - Set firmware retraction</h3>
<h3>M208 - Set retract recover length</h3>
<h3>M209 - Enable/disable automatict retract</h3>
<h3>M220 Set feedrate percentage</h3>
<h3>M221 - Set extrude factor override percentage</h3>
<h3>M226 - Wait for Pin state</h3>
<h3>M280 - Set/Get servo position</h3>
<h3>M300 - Play tone</h3>
<h3>M301 - Set hotend PID</h3>
<h3>M304 - Set bed PID</h3>
<h3>M240 - Trigger camera</h3>
<h3>M302 - Allow cold extrude, or set minimum extrude temperature</h3>
<h3>M303 - PID autotune</h3>
<h3>M400 - Wait for all moves to finish</h3>
<h3>M403 - Set filament type (material) for particular extruder and notify the MMU</h3>
<h3>M500 - Store settings in EEPROM</h3>
<h3>M501 - Read settings from EEPROM</h3>
<h3>M502 - Revert all settings to factory default</h3>
<h3>M503 - Repport all settings currently in memory</h3>
<h3>M509 - Force language selection</h3>
<h3>M540 - Abort print on endstop hit (enable/disable)</h3>
<h3>M600 - Initiate Filament change procedure</h3>
<h3>M601 - Pause print</h3>
<h3>M602 - Resume print</h3>
<h3>M603 - Stop print</h3>
<h3>M860 - Wait for extruder temperature (PINDA)</h3>
<p>Wait for PINDA thermistor to reach target temperature </p><pre class="fragment">      M860 [S&lt;target_temperature&gt;]
</pre><h3>M861 - Set/Get PINDA temperature compensation offsets</h3>
<p>M861 [ ? | ! | Z | S&lt;microsteps&gt; [I&lt;table_index&gt;] ]</p>
<ul>
<li><code>?</code> - Print current EEPROM offset values</li>
<li><code>!</code> - Set factory default values</li>
<li><code>Z</code> - Set all values to 0 (effectively disabling PINDA temperature compensation)</li>
<li><code>S&lt;microsteps&gt;</code> <code>I&lt;table_index&gt;</code> - Set compensation ustep value S for compensation table index I</li>
</ul>
<h3>M862 - Print checking</h3>
<p>Checks the parameters of the printer and gcode and performs compatibility check</p><ul>
<li>M862.1 { P&lt;nozzle_diameter&gt; | Q }</li>
<li>M862.2 { P&lt;model_code&gt; | Q }</li>
<li>M862.3 { P"&lt;model_name&gt;" | Q }</li>
<li>M862.4 { P&lt;fw_version&gt; | Q }</li>
<li>M862.5 { P&lt;gcode_level&gt; | Q }</li>
</ul>
<p>When run with P&lt;&gt; argument, the check is performed against the input value. When run with Q argument, the current value is shown.</p>
<p>M862.3 accepts text identifiers of printer types too. The syntax of M862.3 is (note the quotes around the type): </p><pre class="fragment">    M862.3 P "MK3S"
</pre><p>Accepted printer type identifiers and their numeric counterparts:</p><ul>
<li>MK1 (100)</li>
<li>MK2 (200)</li>
<li>MK2MM (201)</li>
<li>MK2S (202)</li>
<li>MK2SMM (203)</li>
<li>MK2.5 (250)</li>
<li>MK2.5MMU2 (20250)</li>
<li>MK2.5S (252)</li>
<li>MK2.5SMMU2S (20252)</li>
<li>MK3 (300)</li>
<li>MK3MMU2 (20300)</li>
<li>MK3S (302)</li>
<li>MK3SMMU2S (20302)</li>
</ul>
<h3>M900 - Set Linear advance options</h3>
<h3>M907 - Set digital trimpot motor current in mA using axis codes</h3>
<p>See <a class="el" href="tmc2130_8cpp.html#a40b173b1e30d49b9982c050451a0f33e" title="Translate current to tmc2130 vsense and IHOLD or IRUN. ">tmc2130_cur2val()</a> for translation to 0 .. 63 range</p>
<h3>M908 - Control digital trimpot directly</h3>
<h3>M910 - TMC2130 init</h3>
<h3>M911 - Set TMC2130 holding currents</h3>
<h3>M912 - Set TMC2130 running currents</h3>
<h3>M913 - Print TMC2130 currents</h3>
<h3>M914 - Set TMC2130 normal mode</h3>
<h3>M95 - Set TMC2130 silent mode</h3>
<h3>M916 - Set TMC2130 Stallguard sensitivity threshold</h3>
<h3>M917 - Set TMC2130 PWM amplitude offset (pwm_ampl)</h3>
<h3>M918 - Set TMC2130 PWM amplitude gradient (pwm_grad)</h3>
<h3>M350 - Set microstepping mode</h3>
<p>Warning: Steps per unit remains unchanged. S code sets stepping mode for all drivers.</p>
<h3>M351 - Toggle Microstep Pins</h3>
<p>Toggle MS1 MS2 pins directly, S# determines MS1 or MS2, X# sets the pin high/low. </p><pre class="fragment">    M351 [B&lt;0|1&gt;] [E&lt;0|1&gt;] S&lt;1|2&gt; [X&lt;0|1&gt;] [Y&lt;0|1&gt;] [Z&lt;0|1&gt;]   </pre><h3>M701 - Load filament</h3>
<h3>M702 - Unload filament</h3>
<pre class="fragment">M702 [U C]
</pre><ul>
<li><code>U</code> Unload all filaments used in current print</li>
<li><code>C</code> Unload just current filament</li>
<li>without any parameters unload all filaments</li>
</ul>
<p>if "U" unload all filaments which were used in current print</p>
<p>if "C" unload just current filament</p>
<p>otherwise unload all filaments</p>
<p>if "C" unload current filament; if mmu is not present no action is performed</p>
<p>unload current filament</p>
<h3>M999 - Restart after being stopped</h3>
<hr/>
<p> T Codes</p>
<p>T&lt;extruder nr.&gt; - select extruder in case of multi extruder printer select filament in case of MMU_V2 if extruder is "?", open menu to let the user select extruder/filament</p>
<p>For MMU_V2: <br />
 T&lt;n&gt; Gcode to extrude at least 38.10 mm at feedrate 19.02 mm/s must follow immediately to load to extruder wheels. <br />
 T? Gcode to extrude shouldn't have to follow, load to extruder wheels is done automatically <br />
 Tx Same as T?, except nozzle doesn't have to be preheated. Tc must be placed after extruder nozzle is preheated to finish filament load. <br />
 Tc Load to nozzle after filament was prepared by Tc and extruder nozzle is already heated. </p><hr/>
<h3>D-1 - Endless loop</h3>
<h3>D0 - Reset</h3>
<h3>D1 - Clear EEPROM</h3>
<h3>D2 - Read/Write RAM</h3>
<h3>D3 - Read/Write EEPROM</h3>
<h3>D4 - Read/Write PIN</h3>
<h3>D5 - Read/Write FLASH</h3>
<h3>D6 - Read/Write external FLASH</h3>
<h3>D7 - Read/Write Bootloader</h3>
<h3>D8 - Read/Write PINDA</h3>
<h3>D10 - XYZ calibration = OK</h3>
<h3>D80 - Bed check</h3>
<ul>
<li><code>E</code> - dimension x</li>
<li><code>F</code> - dimention y</li>
<li><code>G</code> - points_x</li>
<li><code>H</code> - points_y</li>
<li><code>I</code> - offset_x</li>
<li><code>J</code> - offset_y</li>
</ul>
<h3>D81 - Bed analysis</h3>
<ul>
<li><code>E</code> - dimension x</li>
<li><code>F</code> - dimention y</li>
<li><code>G</code> - points_x</li>
<li><code>H</code> - points_y</li>
<li><code>I</code> - offset_x</li>
<li><code>J</code> - offset_y</li>
</ul>
<h3>D106 print measured fan speed for different pwm values</h3>
<h3>D2130 - TMC2130 Trinamic stepper controller</h3>
<pre class="fragment"> D2130&lt;axis&gt;&lt;command&gt;[subcommand][value]
</pre><ul>
<li><p class="startli">&lt;command&gt;:</p><ul>
<li>'0' current off</li>
<li>'1' current on</li>
<li>'+' single step</li>
<li>* value sereval steps</li>
<li>'-' dtto oposite direction</li>
<li>'?' read register</li>
<li>* "mres"</li>
<li>* "step"</li>
<li>* "mscnt"</li>
<li>* "mscuract"</li>
<li>* "wave"</li>
<li>'!' set register</li>
<li>* "mres"</li>
<li>* "step"</li>
<li>* "wave"</li>
<li>'@' home calibrate axis</li>
</ul>
<p class="startli">Example:</p>
<p class="startli">D2130E?wave ... print extruder microstep linearity compensation curve</p>
<p class="startli">D2130E!wave0 ... disable extruder linearity compensation curve, (sine curve is used)</p>
<p class="startli">D2130E!wave220 ... (sin(x))^1.1 extruder microstep compensation curve used</p>
</li>
</ul>
<h3>D9125 - FILAMENT_SENSOR</h3>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
